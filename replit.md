# بوت المكتبة التعليمية الجامعية

## نظرة عامة
بوت تيليجرام لإدارة مكتبة تعليمية جامعية، يتيح للمستخدمين تصفح الأقسام والملفات والمساهمة بالمحتوى.

## التقنيات المستخدمة
- **Python 3.11**
- **aiogram** - إطار عمل بوت تيليجرام
- **SQLAlchemy** - ORM لقاعدة البيانات
- **asyncpg** - مشغل PostgreSQL غير متزامن
- **Alembic** - إدارة الهجرات

## هيكل المشروع
```
bot/
├── core/           # النواة الأساسية
│   ├── config.py   # إعدادات التطبيق
│   ├── database.py # اتصال قاعدة البيانات
│   └── logging_config.py  # إعدادات التسجيل
├── handlers/       # معالجات الرسائل والأوامر
├── middlewares/    # الوسطاء
├── models/         # نماذج قاعدة البيانات
├── modules/        # وحدات البوت
├── services/       # طبقة الخدمات
├── utils/          # أدوات مساعدة
├── migrations/     # هجرات Alembic
│   ├── env.py
│   ├── script.py.mako
│   └── versions/   # ملفات الهجرات
└── main.py         # نقطة التشغيل
```

## المتغيرات البيئية
| المتغير | الوصف |
|---------|-------|
| `BOT_TOKEN` | توكن البوت من BotFather |
| `DATABASE_URL` | رابط اتصال PostgreSQL |
| `DEBUG` | وضع التصحيح (true/false) |

## أوامر Alembic
```bash
# عرض الحالة الحالية
alembic current

# تطبيق جميع الهجرات
alembic upgrade head

# إنشاء هجرة جديدة
alembic revision -m "description"

# التراجع عن آخر هجرة
alembic downgrade -1
```

## تشغيل البوت
```bash
python -m bot.main
```

## المراحل المكتملة
- [x] المرحلة 0: التهيئة

## المراحل القادمة
- [ ] المرحلة 1: النواة + النصوص الديناميكية
- [ ] المرحلة 2: واجهة المستخدم
- [ ] المرحلة 3: الصلاحيات
- [ ] المرحلة 4: وحدة الأقسام
- [ ] المرحلة 5: وحدة الملفات
- [ ] المرحلة 6: البحث
- [ ] المرحلة 7: لوحة الأدمن
- [ ] المرحلة 8: وحدة المساهمات
- [ ] المرحلة 9: المهام الثقيلة
- [ ] المرحلة 10: المساعد الذكي
